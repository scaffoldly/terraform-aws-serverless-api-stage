{"version":3,"file":"serverless-api-stage.js","sourceRoot":"","sources":["../src/modules/scaffoldly/aws/serverless-api-stage.ts"],"names":[],"mappings":"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","sourcesContent":["// generated by cdktf get\n// scaffoldly/serverless-api-stage/aws\nimport { TerraformModule, TerraformModuleUserConfig } from 'cdktf';\nimport { Construct } from 'constructs';\nexport interface ServerlessApiStageConfig extends TerraformModuleUserConfig {\n  /**\n  * Allow Objects in the bucket with a Public ACL\n  */\n  readonly bucketAllowPublicAccess?: boolean;\n  /**\n  * Set the bucket name, default: var.repository_name\n  */\n  readonly bucketName?: string;\n  /**\n  * Create an S3 Bucket for the Service\n  * true\n  */\n  readonly createBucket?: boolean;\n  /**\n  * Create SNS Topics for the service\n  * true\n  */\n  readonly createTopic?: boolean;\n  /**\n  * The domain for the Serverless API\n  */\n  readonly domain?: string;\n  /**\n  * The name of the Serverless API\n  */\n  readonly path?: string;\n  /**\n  * If true, create a regional Serverless API\n  */\n  readonly regional?: boolean;\n  /**\n  * The GitHub Repository Name\n  */\n  readonly repositoryName: string;\n  /**\n  * The root prinicipal. In most cases leave this as 'root'\n  * root\n  */\n  readonly rootPrincipal?: string;\n  /**\n  * Output of trust from saml-to/iam/aws module\n  */\n  readonly samlTrust?: any;\n  /**\n  * The stage (e.g. live, nonlive)\n  */\n  readonly stage: string;\n  /**\n  * The KMS Key ID for the stage (optional)\n  */\n  readonly stageKmsKeyId?: string;\n  /**\n  * (Optional) Enable a websocket for this stage\n  */\n  readonly websocket?: boolean;\n  /**\n  * (Optional) The custom domain for the websocket (if using a custom domain)\n  */\n  readonly websocketDomain?: string;\n}\n/**\n* Defines an ServerlessApiStage based on a Terraform module\n*\n* Docs at Terraform Registry: {@link https://registry.terraform.io/modules/scaffoldly/serverless-api-stage/aws/1.0.41 scaffoldly/serverless-api-stage/aws}\n*/\nexport class ServerlessApiStage extends TerraformModule {\n  private readonly inputs: { [name: string]: any } = { }\n  public constructor(scope: Construct, id: string, config: ServerlessApiStageConfig) {\n    super(scope, id, {\n      ...config,\n      source: 'scaffoldly/serverless-api-stage/aws',\n      version: '1.0.41',\n    });\n    this.bucketAllowPublicAccess = config.bucketAllowPublicAccess;\n    this.bucketName = config.bucketName;\n    this.createBucket = config.createBucket;\n    this.createTopic = config.createTopic;\n    this.domain = config.domain;\n    this.path = config.path;\n    this.regional = config.regional;\n    this.repositoryName = config.repositoryName;\n    this.rootPrincipal = config.rootPrincipal;\n    this.samlTrust = config.samlTrust;\n    this.stage = config.stage;\n    this.stageKmsKeyId = config.stageKmsKeyId;\n    this.websocket = config.websocket;\n    this.websocketDomain = config.websocketDomain;\n  }\n  public get bucketAllowPublicAccess(): boolean | undefined {\n    return this.inputs['bucket_allow_public_access'] as boolean | undefined;\n  }\n  public set bucketAllowPublicAccess(value: boolean | undefined) {\n    this.inputs['bucket_allow_public_access'] = value;\n  }\n  public get bucketName(): string | undefined {\n    return this.inputs['bucket_name'] as string | undefined;\n  }\n  public set bucketName(value: string | undefined) {\n    this.inputs['bucket_name'] = value;\n  }\n  public get createBucket(): boolean | undefined {\n    return this.inputs['create_bucket'] as boolean | undefined;\n  }\n  public set createBucket(value: boolean | undefined) {\n    this.inputs['create_bucket'] = value;\n  }\n  public get createTopic(): boolean | undefined {\n    return this.inputs['create_topic'] as boolean | undefined;\n  }\n  public set createTopic(value: boolean | undefined) {\n    this.inputs['create_topic'] = value;\n  }\n  public get domain(): string | undefined {\n    return this.inputs['domain'] as string | undefined;\n  }\n  public set domain(value: string | undefined) {\n    this.inputs['domain'] = value;\n  }\n  public get path(): string | undefined {\n    return this.inputs['path'] as string | undefined;\n  }\n  public set path(value: string | undefined) {\n    this.inputs['path'] = value;\n  }\n  public get regional(): boolean | undefined {\n    return this.inputs['regional'] as boolean | undefined;\n  }\n  public set regional(value: boolean | undefined) {\n    this.inputs['regional'] = value;\n  }\n  public get repositoryName(): string {\n    return this.inputs['repository_name'] as string;\n  }\n  public set repositoryName(value: string) {\n    this.inputs['repository_name'] = value;\n  }\n  public get rootPrincipal(): string | undefined {\n    return this.inputs['root_principal'] as string | undefined;\n  }\n  public set rootPrincipal(value: string | undefined) {\n    this.inputs['root_principal'] = value;\n  }\n  public get samlTrust(): any | undefined {\n    return this.inputs['saml_trust'] as any | undefined;\n  }\n  public set samlTrust(value: any | undefined) {\n    this.inputs['saml_trust'] = value;\n  }\n  public get stage(): string {\n    return this.inputs['stage'] as string;\n  }\n  public set stage(value: string) {\n    this.inputs['stage'] = value;\n  }\n  public get stageKmsKeyId(): string | undefined {\n    return this.inputs['stage_kms_key_id'] as string | undefined;\n  }\n  public set stageKmsKeyId(value: string | undefined) {\n    this.inputs['stage_kms_key_id'] = value;\n  }\n  public get websocket(): boolean | undefined {\n    return this.inputs['websocket'] as boolean | undefined;\n  }\n  public set websocket(value: boolean | undefined) {\n    this.inputs['websocket'] = value;\n  }\n  public get websocketDomain(): string | undefined {\n    return this.inputs['websocket_domain'] as string | undefined;\n  }\n  public set websocketDomain(value: string | undefined) {\n    this.inputs['websocket_domain'] = value;\n  }\n  public get apiIdOutput() {\n    return this.getString('api_id')\n  }\n  public get basePathOutput() {\n    return this.getString('base_path')\n  }\n  public get bucketNameOutput() {\n    return this.getString('bucket_name')\n  }\n  public get domainOutput() {\n    return this.getString('domain')\n  }\n  public get nameOutput() {\n    return this.getString('name')\n  }\n  public get repositoryNameOutput() {\n    return this.getString('repository_name')\n  }\n  public get restUrlOutput() {\n    return this.getString('rest_url')\n  }\n  public get roleArnOutput() {\n    return this.getString('role_arn')\n  }\n  public get rootResourceIdOutput() {\n    return this.getString('root_resource_id')\n  }\n  public get s3TopicArnOutput() {\n    return this.getString('s3_topic_arn')\n  }\n  public get stageOutput() {\n    return this.getString('stage')\n  }\n  public get topicArnOutput() {\n    return this.getString('topic_arn')\n  }\n  public get urlOutput() {\n    return this.getString('url')\n  }\n  public get websocketApiIdOutput() {\n    return this.getString('websocket_api_id')\n  }\n  public get websocketUrlOutput() {\n    return this.getString('websocket_url')\n  }\n  protected synthesizeAttributes() {\n    return this.inputs;\n  }\n}\n"]}